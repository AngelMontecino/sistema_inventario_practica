{% extends 'base.html' %}

{% block title %}Nueva Sucursal - Sistema Inventario{% endblock %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-lg-6 col-md-8">
        
        <div class="mb-4">
        <div class="mb-4">
            <fluent-button appearance="outline" onclick="window.location.href='{% url 'lista_sucursales' %}'">
                <i class='bx bx-arrow-back me-1'></i> Volver al listado
            </fluent-button>
        </div>

        <fluent-card class="p-5">
             <div class="border-bottom pb-3 mb-4">
                <h4 class="mb-0 fw-bold text-primary">
                    <i class='bx bx-store me-2'></i>Registrar Sucursal
                </h4>
            </div>

            {% if error %}
                <div class="alert alert-danger d-flex align-items-center mb-4">
                    <i class='bx bx-error-circle me-2 fs-4'></i>
                    <div>{{ error }}</div>
                </div>
            {% endif %}

            <form method="POST">
                {% csrf_token %}
                
                <div class="mb-4">
                    <label for="nombre" class="form-label small fw-bold text-secondary">Nombre de la Sucursal <span class="text-danger">*</span></label>
                    <div class="input-group">
                        <span class="input-group-text bg-white border-end-0"><i class='bx bx-rename text-muted'></i></span>
                        <input type="text" class="form-control form-control-lg border-start-0 ps-0" id="nombre" name="nombre" placeholder="Ej: Casa Matriz" required>
                    </div>
                </div>

                <div class="mb-4">
                    <label for="direccion" class="form-label small fw-bold text-secondary">Dirección</label>
                    <div class="input-group">
                        <span class="input-group-text bg-white border-end-0"><i class='bx bx-map text-muted'></i></span>
                        <input type="text" class="form-control border-start-0 ps-0" id="direccion" name="direccion" placeholder="Ej: Av. Principal 123">
                    </div>
                </div>

                <div class="mb-4">
                    <label for="telefono" class="form-label small fw-bold text-secondary">Teléfono</label>
                    <div class="input-group">
                        <span class="input-group-text bg-white border-end-0"><i class='bx bx-phone text-muted'></i></span>
                        <input type="text" class="form-control border-start-0 ps-0" id="telefono" name="telefono" placeholder="+56 9 ...">
                    </div>
                </div>

                <div class="mb-4 form-check form-switch custom-switch p-3 bg-light rounded d-flex align-items-center">
                    <input class="form-check-input ms-0 me-3 mt-0" type="checkbox" id="es_principal" name="es_principal" style="width: 3em; height: 1.5em;">
                    <label class="form-check-label fw-bold mb-0" for="es_principal">Es Sucursal Principal</label>
                </div>

                <div class="d-grid gap-2 d-md-flex justify-content-md-end mt-4">
                    <fluent-button appearance="outline" onclick="window.location.href='{% url 'lista_sucursales' %}'">Cancelar</fluent-button>
                    <fluent-button appearance="accent" type="submit">
                        <i class='bx bx-save me-2'></i> Guardar Sucursal
                    </fluent-button>
                </div>
            </form>
        </fluent-card>
    </div>
</div>
{% endblock %}
